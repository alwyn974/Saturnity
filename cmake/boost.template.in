cmake_minimum_required(VERSION 3.17)

set(LIBRARY_NAME @library@)
set(LIBRARY_REPO_NAME @library@)
string(REGEX REPLACE "boost_" "" LIBRARY_REPO_NAME ${LIBRARY_REPO_NAME})

Include(FetchContent)
if (NOT ${LIBRARY_NAME}_FIND_QUIETLY)
    set(FETCHCONTENT_QUIET OFF)
endif ()

message(STATUS "Fetching ${LIBRARY_NAME}")
FetchContent_Declare(
        ${LIBRARY_NAME}
        GIT_REPOSITORY https://github.com/boostorg/${LIBRARY_REPO_NAME}.git
        GIT_TAG boost-1.81.0
        GIT_SHALLOW 1 # Only fetch the head commit
        GIT_PROGRESS TRUE
        CACHE
)
FetchContent_MakeAvailable(${LIBRARY_NAME})
FetchContent_GetProperties(${LIBRARY_NAME})

Include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/boost.utils.cmake)
create_boost_dependency(${LIBRARY_NAME})